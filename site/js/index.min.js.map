{"version":3,"names":[],"mappings":"","sources":["js/index.js"],"sourcesContent":["$(function () {\n\n  var printEvent = false;\n  var mails = '126.com,163.com,gmail.com,sina.com,hotmail.com,qq.com,yahoo.com'.split(',').sort();\n  var emailLoader = function (searchText, callback, searchMode, from, loadSeq) {\n    if (from) console.log('from:', from);\n    setTimeout(function () {\n      var data = [];\n      $.each(mails, function (i, domain) {\n        data.push(searchText + '@' + domain);\n      });\n      callback(data, loadSeq);\n    }, 500);\n  };\n  var emailItemsLoader = function (items, callback) {\n    setTimeout(function () {\n      var checkedItems = [];\n      $.each(items, function (i, item) {\n        if ((item.c || item.code).indexOf('hua_mu_lan') < 0) checkedItems.push(item);\n      });\n      callback(checkedItems);\n    }, 500);\n  };\n  var onchange = function (valueId) {\n    return function (e, oldValue, newValue) {\n      if (printEvent) console.log('=====onchange======', valueId, newValue);\n      $('#' + valueId).text(JSON.stringify(newValue));\n    };\n  };\n  var oninit = function (bsId, valueId) {\n    return function () {\n      if (printEvent) console.log('=====oninit======', bsId);\n      var value = $('#' + bsId).data('bsAutoComplete').getValue();\n      $('#' + valueId).text(JSON.stringify(value));\n    };\n  };\n  var onselect = onclear = ondeselect = onFocus = onBlur = function (eventType, bsId) {\n    return function () {\n      if (printEvent) console.log('====' + eventType + '====', bsId)\n    }\n  };\n  var onSetFinish = function (eventType, bsId) {\n    return {\n      onSetFinish: function () {\n        if (printEvent) console.log('====' + eventType + '====', bsId)\n      }\n    }\n  };\n  var getListeners = function (bsId, valueId) {\n    return {\n      'bs.autocomplete.change': onchange(valueId), 'bs.autocomplete.inited': oninit(bsId, valueId),\n      'bs.autocomplete.select': onselect('onselect', bsId), 'bs.autocomplete.deselect': ondeselect('deselect', bsId),\n      'bs.autocomplete.clear' : onclear('onclear', bsId), 'bs.autocomplete.focus': onFocus('focus', bsId),\n      'bs.autocomplete.blur'  : onBlur('blur', bsId)\n    }\n  };\n\n  // ac1\n  $('#ac1').on($.extend(getListeners('ac1', 'value1'), {})).bsAutoComplete({\n    minChar          : 3, filtSame: true, forceSelect: true,\n    placeHolder      : '请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择',\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  $('#ac1Btn').click(function () {\n    var ac1 = $('#ac1').data('bsAutoComplete');\n    ac1.setValue(['snow_white@gmail.com', 'hua_mu_lan@sina.com', 'cinderella@hotmail.com'], onSetFinish('setValue', 'ac3'));\n  });\n\n  // ac2\n  $('#ac2').hide().on($.extend(getListeners('ac2', 'value2'), {\n    'bs.autocomplete.inited': function () {\n      $('#ac2').show();\n    }\n  })).bsAutoComplete({\n    forceSelect      : true, value: ['snow_white@gmail.com', 'Zwerge_1@gmail.com'],\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  var ZwergeIndex = 1;\n  $('#ac2Btn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.addValue(['Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com', 'Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com'],\n      onSetFinish('addValue', 'ac3'));\n  });\n  $('#ac2ResizeBtn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.resize();\n  });\n\n  // ac3\n  var data = [];\n  for (var i = 0; i < 100; i++) data.push({code: 'code-' + i, name: '项目-' + i, cls: 'custom-cls'});\n  var data2 = [];\n  for (var i = 0; i < 100; i++)\n    data2.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  $('#ac3').on($.extend(getListeners('ac3', 'value3'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true\n  });\n\n  $('#ac3Btn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.setReadonly(!ac3.isReadonly());\n  });\n  $('#ac3AddBtn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac3'));\n  });\n\n  // ac4\n  $('#ac4').on($.extend(getListeners('ac4', 'value4'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false\n  });\n  $('#ac4Btn').click(function () {\n    var ac4 = $('#ac4').data('bsAutoComplete');\n    ac4.setReadonly(!ac4.isReadonly());\n  });\n\n  // ac5\n  $('#ac5').on($.extend(getListeners('ac5', 'value5'), {})).bsAutoComplete({\n    data   : data.concat([{c: 'add value', n: '添加的项目'}, {c: 'set value', n: '设置的项目'}, 'hello world']),\n    minChar: 0, multiple: false, forceSelect: true, showAllWhenSingleForceSelectFocus: true, filtSame: true\n  });\n\n  $('#ac5AddBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.addValue([{c: 'add value', n: '添加的项目'}], onSetFinish('addValue', 'ac5'));\n  });\n  $('#ac5SetBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.setValue([{c: 'set value', n: '设置的项目'}], onSetFinish('setValue', 'ac5'));\n  });\n\n  // ac6\n  var itemTpl = '<div>\\\n          <div><span class=\"badge\">{name}</span>:<span class=\"label label-success\">{key}</span></div>\\\n          <div><span class=\"alert alert-info\">{desc}</span></div>\\\n      </div>';\n  var ac6MetaData = [\n    {c: 'id1', od: {name: '设置的项目1', arr: [1, 2], jso: {key: '子项1'}}},\n    {c: 'id2', od: {name: '设置的项目2', arr: [1, 2], jso: {key: '子项2'}}}\n  ], ac6data = [];\n  $.each(ac6MetaData, function (i, n) {\n    var name = itemTpl.format({name: n.od.name, key: n.od.jso.key, desc: JSON.stringify(n.od)});\n    ac6data.push($.extend({n: n.od.name, hn: name}, n));\n  });\n  $('#ac6').on(getListeners('ac6', 'value6')).bsAutoComplete({\n    data: ac6data,\n    cls : 'custom-item-html', minChar: 0, multiple: false, value: 'id2', forceSelect: true, itemUseHtml: true\n  });\n\n  $('#ac6SetBtn').click(function () {\n    var ac5 = $('#ac6').data('bsAutoComplete');\n    ac5.setValue([ac6data[1]], onSetFinish('setValue', 'ac6'));\n  });\n\n  // ac7\n  var longValue = '';\n  for (var i = 0; i < 40; i++) longValue += 'asdf';\n  $('#ac7').on($.extend(getListeners('ac7', 'value7'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true, value: [longValue, longValue + '2']\n  });\n\n  $('#ac7Btn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.setReadonly(!ac7.isReadonly());\n  });\n  $('#ac7AddBtn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac7'));\n  });\n\n  // ac8\n  $('#ac8').on($.extend(getListeners('ac8', 'value8'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false, value: [longValue]\n  });\n  $('#ac8Btn').click(function () {\n    var ac8 = $('#ac8').data('bsAutoComplete');\n    ac8.setReadonly(!ac8.isReadonly());\n  });\n\n  // ac9\n  var emailLoaderWzSearchMode = function (searchText, callback, searchMode, from, loadSeq) {\n    if (from) console.log('from:', from);\n    var data = [];\n    if (!!searchMode) data.push({c: 'searchMode-test', n: '搜索模式测试'});\n    $.each(mails, function (i, domain) {\n      data.push(searchText + '@' + domain);\n    });\n    callback(data, loadSeq);\n  };\n  $('#ac9').on($.extend(getListeners('ac9', 'value9'), {})).bsAutoComplete({\n    minChar : 0, data: data2, filtSame: true, forceSelect: true,\n    loadData: emailLoaderWzSearchMode\n  });\n\n  $('#ac9Btn').click(function () {\n    var ac9 = $('#ac9').data('bsAutoComplete');\n    ac9.setReadonly(!ac9.isReadonly());\n  });\n  $('#ac9AddBtn').click(function () {\n    var ac9 = $('#ac9').data('bsAutoComplete');\n    ac9.addValue([{c: 'searchMode-test', n: '搜索模式测试'}], onSetFinish('addValue', 'ac9'));\n  });\n\n  // ac10\n  var data10 = [];\n  for (var i = 0; i < 100; i++) {\n    if (i % 4 != 0 && i != 1 && i != 10) continue;\n    // if (i % 4 != 0 && i != 1 && i % 10 != 0) continue;\n    data10.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  }\n  $('#ac10').on($.extend(getListeners('ac10', 'value10'), {})).bsAutoComplete({\n    minChar: 0, data: data10, filtSame: true, hideOtherSelected4Multiple: true\n  });\n\n  $('#ac10Btn').click(function () {\n    var ac10 = $('#ac10').data('bsAutoComplete');\n    ac10.setReadonly(!ac10.isReadonly());\n  });\n  $('#ac10AddBtn').click(function () {\n    var ac10 = $('#ac10').data('bsAutoComplete');\n    ac10.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac10'));\n  });\n\n  // ac11\n  var data11 = [];\n  for (var i = 0; i < 100; i++) {\n    if (i % 4 != 0 && i != 1 && i != 10) continue;\n    // if (i % 4 != 0 && i != 1 && i % 10 != 0) continue;\n    data11.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  }\n  $('#ac11').on($.extend(getListeners('ac11', 'value11'), {})).bsAutoComplete({\n    minChar: 0, data: data11, filtSame: true, hideOtherSelected4Multiple: false\n  });\n\n  $('#ac11Btn').click(function () {\n    var ac11 = $('#ac11').data('bsAutoComplete');\n    ac11.setReadonly(!ac11.isReadonly());\n  });\n  $('#ac11AddBtn').click(function () {\n    var ac11 = $('#ac11').data('bsAutoComplete');\n    ac11.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac11'));\n  });\n\n  $.each(['12', '13'], function (i, acSeq) {\n    // ac12, ac13\n    $('#ac' + acSeq)\n      .on($.extend(getListeners('ac' + acSeq, 'value' + acSeq), {}))\n      .bsAutoComplete({\n        minChar : 0,\n        data    : data2,\n        // multiple: false,\n        // loadData             : emailLoader,\n        filtSame                           : true,\n        closeOnSelect                      : false,\n        forceSelect                        : false,\n        dropDownFollowInputEl              : false,\n        hideBadge                          : acSeq === '13',\n        disableSelectedItemsInfoDragAnmiate: false,\n        mode                               : 'selectOption',\n      });\n\n    $('#ac' + acSeq + 'Btn').click(function () {\n      var ac = $('#ac' + acSeq).data('bsAutoComplete');\n      ac.setReadonly(!ac.isReadonly());\n    });\n    $('#ac' + acSeq + 'AddBtn').click(function () {\n      var ac = $('#ac' + acSeq).data('bsAutoComplete');\n      ac.addValue([{c: 'code-13', n: '项目-13'}], onSetFinish('addValue', 'ac' + acSeq));\n    });\n  });\n\n});\n"],"file":"index.min.js"}