{"version":3,"sources":["js/index.js"],"names":["$","mails","split","sort","emailLoader","searchText","callback","searchMode","from","console","log","setTimeout","data","each","i","domain","push","emailItemsLoader","items","checkedItems","item","c","code","indexOf","onselect","onclear","ondeselect","onFocus","onBlur","eventType","bsId","getListeners","valueId","bs.autocomplete.change","e","oldValue","newValue","text","JSON","stringify","bs.autocomplete.inited","value","getValue","bs.autocomplete.select","bs.autocomplete.deselect","bs.autocomplete.clear","bs.autocomplete.focus","bs.autocomplete.blur","on","extend","bsAutoComplete","minChar","filtSame","forceSelect","placeHolder","loadData","loadDataItems","getText4BadgeEdit","substring","click","setValue","onSetFinish","hide","show","ZwergeIndex","addValue","resize","name","cls","data2","optGroup","ac3","setReadonly","isReadonly","n","multiple","ac4","concat","showAllWhenSingleForceSelectFocus","ac6data","od","arr","jso","key","format","desc","hn","itemUseHtml","longValue","ac7","ac8","ac9","data10","hideOtherSelected4Multiple","ac10"],"mappings":"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","file":"index.min.js","sourcesContent":["$(function () {\n\n  var printEvent = false;\n  var mails = '126.com,163.com,gmail.com,sina.com,hotmail.com,qq.com,yahoo.com'.split(',').sort();\n  var emailLoader = function (searchText, callback, searchMode, from) {\n    if (from) console.log('from:', from);\n    setTimeout(function () {\n      var data = [];\n      $.each(mails, function (i, domain) {\n        data.push(searchText + '@' + domain);\n      });\n      callback(data);\n    }, 500);\n  };\n  var emailItemsLoader = function (items, callback) {\n    setTimeout(function () {\n      var checkedItems = [];\n      $.each(items, function (i, item) {\n        if ((item.c || item.code).indexOf('hua_mu_lan') < 0) checkedItems.push(item);\n      });\n      callback(checkedItems);\n    }, 500);\n  };\n  var onchange = function (valueId) {\n    return function (e, oldValue, newValue) {\n      if (printEvent) console.log('=====onchange======', valueId, newValue);\n      $('#' + valueId).text(JSON.stringify(newValue));\n    };\n  };\n  var oninit = function (bsId, valueId) {\n    return function () {\n      if (printEvent) console.log('=====oninit======', bsId);\n      var value = $('#' + bsId).data('bsAutoComplete').getValue();\n      $('#' + valueId).text(JSON.stringify(value));\n    };\n  };\n  var onselect = onclear = ondeselect = onFocus = onBlur = function (eventType, bsId) {\n    return function () {\n      if (printEvent) console.log('====' + eventType + '====', bsId)\n    }\n  };\n  var onSetFinish = function (eventType, bsId) {\n    return {\n      onSetFinish: function () {\n        if (printEvent) console.log('====' + eventType + '====', bsId)\n      }\n    }\n  };\n  var getListeners = function (bsId, valueId) {\n    return {\n      'bs.autocomplete.change': onchange(valueId), 'bs.autocomplete.inited': oninit(bsId, valueId),\n      'bs.autocomplete.select': onselect('onselect', bsId), 'bs.autocomplete.deselect': ondeselect('deselect', bsId),\n      'bs.autocomplete.clear' : onclear('onclear', bsId), 'bs.autocomplete.focus': onFocus('focus', bsId),\n      'bs.autocomplete.blur'  : onBlur('blur', bsId)\n    }\n  };\n\n  // ac1\n  $('#ac1').on($.extend(getListeners('ac1', 'value1'), {})).bsAutoComplete({\n    minChar          : 3, filtSame: true, forceSelect: true,\n    placeHolder      : '请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择',\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  $('#ac1Btn').click(function () {\n    var ac1 = $('#ac1').data('bsAutoComplete');\n    ac1.setValue(['snow_white@gmail.com', 'hua_mu_lan@sina.com', 'cinderella@hotmail.com'], onSetFinish('setValue', 'ac3'));\n  });\n\n  // ac2\n  $('#ac2').hide().on($.extend(getListeners('ac2', 'value2'), {\n    'bs.autocomplete.inited': function () {\n      $('#ac2').show();\n    }\n  })).bsAutoComplete({\n    forceSelect      : true, value: ['snow_white@gmail.com', 'Zwerge_1@gmail.com'],\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  var ZwergeIndex = 1;\n  $('#ac2Btn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.addValue(['Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com', 'Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com'],\n      onSetFinish('addValue', 'ac3'));\n  });\n  $('#ac2ResizeBtn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.resize();\n  });\n\n  // ac3\n  var data = [];\n  for (var i = 0; i < 100; i++) data.push({code: 'code-' + i, name: '项目-' + i, cls: 'custom-cls'});\n  var data2 = [];\n  for (var i = 0; i < 100; i++)\n    data2.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  $('#ac3').on($.extend(getListeners('ac3', 'value3'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true\n  });\n\n  $('#ac3Btn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.setReadonly(!ac3.isReadonly());\n  });\n  $('#ac3AddBtn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac3'));\n  });\n\n  // ac4\n  $('#ac4').on($.extend(getListeners('ac4', 'value4'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false\n  });\n  $('#ac4Btn').click(function () {\n    var ac4 = $('#ac4').data('bsAutoComplete');\n    ac4.setReadonly(!ac4.isReadonly());\n  });\n\n  // ac5\n  $('#ac5').on($.extend(getListeners('ac5', 'value5'), {})).bsAutoComplete({\n    data   : data.concat([{c: 'add value', n: '添加的项目'}, {c: 'set value', n: '设置的项目'}, 'hello world']),\n    minChar: 0, multiple: false, forceSelect: true, showAllWhenSingleForceSelectFocus: true, filtSame: true\n  });\n\n  $('#ac5AddBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.addValue([{c: 'add value', n: '添加的项目'}], onSetFinish('addValue', 'ac5'));\n  });\n  $('#ac5SetBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.setValue([{c: 'set value', n: '设置的项目'}], onSetFinish('setValue', 'ac5'));\n  });\n\n  // ac6\n  var itemTpl = '<div>\\\n          <div><span class=\"badge\">{name}</span>:<span class=\"label label-success\">{key}</span></div>\\\n          <div><span class=\"alert alert-info\">{desc}</span></div>\\\n      </div>';\n  var ac6MetaData = [\n    {c: 'id1', od: {name: '设置的项目1', arr: [1, 2], jso: {key: '子项1'}}},\n    {c: 'id2', od: {name: '设置的项目2', arr: [1, 2], jso: {key: '子项2'}}}\n  ], ac6data = [];\n  $.each(ac6MetaData, function (i, n) {\n    var name = itemTpl.format({name: n.od.name, key: n.od.jso.key, desc: JSON.stringify(n.od)});\n    ac6data.push($.extend({n: n.od.name, hn: name}, n));\n  });\n  $('#ac6').on(getListeners('ac6', 'value6')).bsAutoComplete({\n    data: ac6data,\n    cls : 'custom-item-html', minChar: 0, multiple: false, value: 'id2', forceSelect: true, itemUseHtml: true\n  });\n\n  $('#ac6SetBtn').click(function () {\n    var ac5 = $('#ac6').data('bsAutoComplete');\n    ac5.setValue([ac6data[1]], onSetFinish('setValue', 'ac6'));\n  });\n\n  // ac7\n  var longValue = '';\n  for (var i = 0; i < 40; i++) longValue += 'asdf';\n  $('#ac7').on($.extend(getListeners('ac7', 'value7'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true, value: [longValue, longValue + '2']\n  });\n\n  $('#ac7Btn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.setReadonly(!ac7.isReadonly());\n  });\n  $('#ac7AddBtn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac7'));\n  });\n\n  // ac8\n  $('#ac8').on($.extend(getListeners('ac8', 'value8'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false, value: [longValue]\n  });\n  $('#ac8Btn').click(function () {\n    var ac8 = $('#ac8').data('bsAutoComplete');\n    ac8.setReadonly(!ac8.isReadonly());\n  });\n\n  // ac9\n  var emailLoaderWzSearchMode = function (searchText, callback, searchMode, from) {\n    if (from) console.log('from:', from);\n    var data = [];\n    if (!!searchMode) data.push({c: 'searchMode-test', n: '搜索模式测试'});\n    $.each(mails, function (i, domain) {\n      data.push(searchText + '@' + domain);\n    });\n    callback(data);\n  };\n  $('#ac9').on($.extend(getListeners('ac9', 'value9'), {})).bsAutoComplete({\n    minChar : 0, data: data2, filtSame: true, forceSelect: true,\n    loadData: emailLoaderWzSearchMode\n  });\n\n  $('#ac9Btn').click(function () {\n    var ac9 = $('#ac9').data('bsAutoComplete');\n    ac9.setReadonly(!ac9.isReadonly());\n  });\n  $('#ac9AddBtn').click(function () {\n    var ac9 = $('#ac9').data('bsAutoComplete');\n    ac9.addValue([{c: 'searchMode-test', n: '搜索模式测试'}], onSetFinish('addValue', 'ac9'));\n  });\n\n  // ac10\n  var data10 = [];\n  for (var i = 0; i < 100; i++) {\n    if (i % 4 != 0 && i != 1 && i != 10) continue;\n    // if (i % 4 != 0 && i != 1 && i % 10 != 0) continue;\n    data10.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  }\n  $('#ac10').on($.extend(getListeners('ac10', 'value10'), {})).bsAutoComplete({\n    minChar: 0, data: data10, filtSame: true, hideOtherSelected4Multiple: true\n  });\n\n  $('#ac10Btn').click(function () {\n    var ac10 = $('#ac10').data('bsAutoComplete');\n    ac10.setReadonly(!ac10.isReadonly());\n  });\n  $('#ac10AddBtn').click(function () {\n    var ac10 = $('#ac10').data('bsAutoComplete');\n    ac10.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac10'));\n  });\n\n});\n"]}