{"version":3,"sources":["js/index.js"],"names":["$","mails","split","sort","emailLoader","searchText","callback","setTimeout","data","each","i","domain","push","emailItemsLoader","items","checkedItems","item","c","code","indexOf","onselect","onclear","ondeselect","onFocus","onBlur","eventType","bsId","console","log","onSetFinish","getListeners","valueId","bs.autocomplete.change","e","oldValue","newValue","text","JSON","stringify","bs.autocomplete.inited","value","getValue","bs.autocomplete.select","bs.autocomplete.deselect","bs.autocomplete.clear","bs.autocomplete.focus","bs.autocomplete.blur","on","extend","bsAutoComplete","minChar","filtSame","forceSelect","placeHolder","loadData","loadDataItems","getText4BadgeEdit","substring","click","setValue","hide","show","ZwergeIndex","addValue","resize","name","cls","data2","optGroup","ac3","setReadonly","isReadonly","n","longValue","ac7","multiple","ac4","ac8","concat","showAllWhenSingleForceSelectFocus","ac6data","od","arr","jso","key","format","desc","hn","itemUseHtml"],"mappings":"AAAAA,EAAE,WAEA,IAAIC,EAAQ,kEAAkEC,MAAM,KAAKC,OACrFC,EAAc,SAAUC,EAAYC,GACtCC,WAAW,WACT,IAAIC,EAAO,GACXR,EAAES,KAAKR,EAAO,SAAUS,EAAGC,GACzBH,EAAKI,KAAKP,EAAa,IAAMM,KAE/BL,EAASE,IACR,MAEDK,EAAmB,SAAUC,EAAOR,GACtCC,WAAW,WACT,IAAIQ,EAAe,GACnBf,EAAES,KAAKK,EAAO,SAAUJ,EAAGM,IACpBA,EAAKC,GAAKD,EAAKE,MAAMC,QAAQ,cAAgB,GAAGJ,EAAaH,KAAKI,KAEzEV,EAASS,IACR,MAeDK,EAAWC,QAAUC,WAAaC,QAAUC,OAAS,SAAUC,EAAWC,GAC5E,OAAO,WACLC,QAAQC,IAAI,OAASH,EAAY,OAAQC,KAGzCG,EAAc,SAAUJ,EAAWC,GACrC,MAAO,CACLG,YAAa,WACXF,QAAQC,IAAI,OAASH,EAAY,OAAQC,MAI3CI,EAAe,SAAUJ,EAAMK,GACjC,MAAO,CACLC,0BA3BqBD,EA2BcA,EA1B9B,SAAUE,EAAGC,EAAUC,GAC5BR,QAAQC,IAAI,sBAAuBG,EAASI,GAC5CnC,EAAE,IAAM+B,GAASK,KAAKC,KAAKC,UAAUH,MAwBQI,0BArB1Bb,EAqB2DA,EArBrDK,EAqB2DA,EApB/E,WACLJ,QAAQC,IAAI,oBAAqBF,GACjC,IAAIc,EAAQxC,EAAE,IAAM0B,GAAMlB,KAAK,kBAAkBiC,WACjDzC,EAAE,IAAM+B,GAASK,KAAKC,KAAKC,UAAUE,MAkBrCE,yBAA0BtB,EAAS,WAAYM,GAAOiB,2BAA4BrB,WAAW,WAAYI,GACzGkB,wBAA0BvB,QAAQ,UAAWK,GAAOmB,wBAAyBtB,QAAQ,QAASG,GAC9FoB,uBAA0BtB,OAAO,OAAQE,IAxBhC,IAAUA,EAAMK,EANJA,GAmCzB/B,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEC,QAAmB,EAAGC,UAAU,EAAMC,aAAa,EACnDC,YAAmB,mDACnBC,SAAmBlD,EAAamD,cAAe1C,EAC/C2C,kBAAmB,SAAUxC,EAAMoB,GACjC,OAA4B,GAArBA,EAAKjB,QAAQ,KAAYiB,EAAKqB,UAAU,EAAGrB,EAAKjB,QAAQ,MAAQiB,KAI3EpC,EAAE,WAAW0D,MAAM,WACP1D,EAAE,QAAQQ,KAAK,kBACrBmD,SAAS,CAAC,uBAAwB,sBAAuB,0BAA2B9B,EAAY,WAAY,UAIlH7B,EAAE,QAAQ4D,OAAOb,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,CAC1DS,yBAA0B,WACxBvC,EAAE,QAAQ6D,WAEVZ,eAAe,CACjBG,aAAmB,EAAMZ,MAAO,CAAC,uBAAwB,sBACzDc,SAAmBlD,EAAamD,cAAe1C,EAC/C2C,kBAAmB,SAAUxC,EAAMoB,GACjC,OAA4B,GAArBA,EAAKjB,QAAQ,KAAYiB,EAAKqB,UAAU,EAAGrB,EAAKjB,QAAQ,MAAQiB,KAI3E,IAAI0B,EAAc,EAClB9D,EAAE,WAAW0D,MAAM,WACP1D,EAAE,QAAQQ,KAAK,kBACrBuD,SAAS,CAAC,WAAaD,IAAgB,EAAI,GAAK,aAAc,WAAaA,IAAgB,EAAI,GAAK,cACtGjC,EAAY,WAAY,UAE5B7B,EAAE,iBAAiB0D,MAAM,WACb1D,EAAE,QAAQQ,KAAK,kBACrBwD,WAKN,IADA,IAAIxD,EAAO,GACFE,EAAI,EAAGA,EAAI,IAAKA,IAAKF,EAAKI,KAAK,CAACM,KAAM,QAAUR,EAAGuD,KAAM,MAAQvD,EAAGwD,IAAK,eAClF,IAAIC,EAAQ,GACZ,IAASzD,EAAI,EAAGA,EAAI,IAAKA,IACvByD,EAAMvD,KAAK,CAACM,KAAM,QAAUR,EAAGuD,KAAM,MAAQvD,EAAG0D,SAAU1D,EAAI,GAAM,EAAGwD,IAAK,eAC9ElE,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEC,QAAS,EAAG1C,KAAM2D,EAAOhB,UAAU,IAGrCnD,EAAE,WAAW0D,MAAM,WACjB,IAAIW,EAAMrE,EAAE,QAAQQ,KAAK,kBACzB6D,EAAIC,aAAaD,EAAIE,gBAEvBvE,EAAE,cAAc0D,MAAM,WACV1D,EAAE,QAAQQ,KAAK,kBACrBuD,SAAS,CAAC,CAAC9C,EAAG,UAAWuD,EAAG,UAAW3C,EAAY,WAAY,UAIrE,IAAI4C,EAAY,GAChB,IAAS/D,EAAI,EAAGA,EAAI,GAAIA,IAAK+D,GAAa,OAC1CzE,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEC,QAAS,EAAG1C,KAAM2D,EAAOhB,UAAU,EAAMX,MAAO,CAACiC,EAAWA,EAAY,OAG1EzE,EAAE,WAAW0D,MAAM,WACjB,IAAIgB,EAAM1E,EAAE,QAAQQ,KAAK,kBACzBkE,EAAIJ,aAAaI,EAAIH,gBAEvBvE,EAAE,cAAc0D,MAAM,WACV1D,EAAE,QAAQQ,KAAK,kBACrBuD,SAAS,CAAC,CAAC9C,EAAG,UAAWuD,EAAG,UAAW3C,EAAY,WAAY,UAIrE7B,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEC,QAAS,EAAG1C,KAAMA,EAAMmE,UAAU,IAEpC3E,EAAE,WAAW0D,MAAM,WACjB,IAAIkB,EAAM5E,EAAE,QAAQQ,KAAK,kBACzBoE,EAAIN,aAAaM,EAAIL,gBAIvBvE,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEC,QAAS,EAAG1C,KAAMA,EAAMmE,UAAU,EAAOnC,MAAO,CAACiC,KAEnDzE,EAAE,WAAW0D,MAAM,WACjB,IAAImB,EAAM7E,EAAE,QAAQQ,KAAK,kBACzBqE,EAAIP,aAAaO,EAAIN,gBAIvBvE,EAAE,QAAQ+C,GAAG/C,EAAEgD,OAAOlB,EAAa,MAAO,UAAW,KAAKmB,eAAe,CACvEzC,KAASA,EAAKsE,OAAO,CAAC,CAAC7D,EAAG,YAAauD,EAAG,SAAU,CAACvD,EAAG,YAAauD,EAAG,SAAU,gBAClFtB,QAAS,EAAGyB,UAAU,EAAOvB,aAAa,EAAM2B,mCAAmC,EAAM5B,UAAU,IAGrGnD,EAAE,cAAc0D,MAAM,WACV1D,EAAE,QAAQQ,KAAK,kBACrBuD,SAAS,CAAC,CAAC9C,EAAG,YAAauD,EAAG,UAAW3C,EAAY,WAAY,UAEvE7B,EAAE,cAAc0D,MAAM,WACV1D,EAAE,QAAQQ,KAAK,kBACrBmD,SAAS,CAAC,CAAC1C,EAAG,YAAauD,EAAG,UAAW3C,EAAY,WAAY,UAIvE,IAOGmD,EAAU,GACbhF,EAAES,KAJgB,CAChB,CAACQ,EAAG,MAAOgE,GAAI,CAAChB,KAAM,SAAUiB,IAAK,CAAC,EAAG,GAAIC,IAAK,CAACC,IAAK,SACxD,CAACnE,EAAG,MAAOgE,GAAI,CAAChB,KAAM,SAAUiB,IAAK,CAAC,EAAG,GAAIC,IAAK,CAACC,IAAK,UAEtC,SAAU1E,EAAG8D,GAC/B,IAAIP,EATQ,0LASOoB,OAAO,CAACpB,KAAMO,EAAES,GAAGhB,KAAMmB,IAAKZ,EAAES,GAAGE,IAAIC,IAAKE,KAAMjD,KAAKC,UAAUkC,EAAES,MACtFD,EAAQpE,KAAKZ,EAAEgD,OAAO,CAACwB,EAAGA,EAAES,GAAGhB,KAAMsB,GAAItB,GAAOO,MAElDxE,EAAE,QAAQ+C,GAAGjB,EAAa,MAAO,WAAWmB,eAAe,CACzDzC,KAAMwE,EACNd,IAAM,mBAAoBhB,QAAS,EAAGyB,UAAU,EAAOnC,MAAO,MAAOY,aAAa,EAAMoC,aAAa,IAGvGxF,EAAE,cAAc0D,MAAM,WACV1D,EAAE,QAAQQ,KAAK,kBACrBmD,SAAS,CAACqB,EAAQ,IAAKnD,EAAY,WAAY","file":"index.min.js","sourcesContent":["$(function () {\n\n  var mails = '126.com,163.com,gmail.com,sina.com,hotmail.com,qq.com,yahoo.com'.split(',').sort();\n  var emailLoader = function (searchText, callback) {\n    setTimeout(function () {\n      var data = [];\n      $.each(mails, function (i, domain) {\n        data.push(searchText + '@' + domain);\n      });\n      callback(data);\n    }, 500);\n  };\n  var emailItemsLoader = function (items, callback) {\n    setTimeout(function () {\n      var checkedItems = [];\n      $.each(items, function (i, item) {\n        if ((item.c || item.code).indexOf('hua_mu_lan') < 0) checkedItems.push(item);\n      });\n      callback(checkedItems);\n    }, 500);\n  };\n  var onchange = function (valueId) {\n    return function (e, oldValue, newValue) {\n      console.log('=====onchange======', valueId, newValue);\n      $('#' + valueId).text(JSON.stringify(newValue));\n    };\n  };\n  var oninit = function (bsId, valueId) {\n    return function () {\n      console.log('=====oninit======', bsId);\n      var value = $('#' + bsId).data('bsAutoComplete').getValue();\n      $('#' + valueId).text(JSON.stringify(value));\n    };\n  };\n  var onselect = onclear = ondeselect = onFocus = onBlur = function (eventType, bsId) {\n    return function () {\n      console.log('====' + eventType + '====', bsId)\n    }\n  };\n  var onSetFinish = function (eventType, bsId) {\n    return {\n      onSetFinish: function () {\n        console.log('====' + eventType + '====', bsId)\n      }\n    }\n  };\n  var getListeners = function (bsId, valueId) {\n    return {\n      'bs.autocomplete.change': onchange(valueId), 'bs.autocomplete.inited': oninit(bsId, valueId),\n      'bs.autocomplete.select': onselect('onselect', bsId), 'bs.autocomplete.deselect': ondeselect('deselect', bsId),\n      'bs.autocomplete.clear' : onclear('onclear', bsId), 'bs.autocomplete.focus': onFocus('focus', bsId),\n      'bs.autocomplete.blur'  : onBlur('blur', bsId)\n    }\n  };\n\n  // ac1\n  $('#ac1').on($.extend(getListeners('ac1', 'value1'), {})).bsAutoComplete({\n    minChar          : 3, filtSame: true, forceSelect: true,\n    placeHolder      : '请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择请选择',\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  $('#ac1Btn').click(function () {\n    var ac1 = $('#ac1').data('bsAutoComplete');\n    ac1.setValue(['snow_white@gmail.com', 'hua_mu_lan@sina.com', 'cinderella@hotmail.com'], onSetFinish('setValue', 'ac3'));\n  });\n\n  // ac2\n  $('#ac2').hide().on($.extend(getListeners('ac2', 'value2'), {\n    'bs.autocomplete.inited': function () {\n      $('#ac2').show();\n    }\n  })).bsAutoComplete({\n    forceSelect      : true, value: ['snow_white@gmail.com', 'Zwerge_1@gmail.com'],\n    loadData         : emailLoader, loadDataItems: emailItemsLoader,\n    getText4BadgeEdit: function (item, text) {\n      return text.indexOf('@') >= 0 ? text.substring(0, text.indexOf('@')) : text\n    }\n  });\n\n  var ZwergeIndex = 1;\n  $('#ac2Btn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.addValue(['Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com', 'Zwerge_' + (ZwergeIndex++ % 7 + 1) + '@gmail.com'],\n      onSetFinish('addValue', 'ac3'));\n  });\n  $('#ac2ResizeBtn').click(function () {\n    var ac2 = $('#ac2').data('bsAutoComplete');\n    ac2.resize();\n  });\n\n  // ac3\n  var data = [];\n  for (var i = 0; i < 100; i++) data.push({code: 'code-' + i, name: '项目-' + i, cls: 'custom-cls'});\n  var data2 = [];\n  for (var i = 0; i < 100; i++)\n    data2.push({code: 'code-' + i, name: '项目-' + i, optGroup: i % 4 === 0, cls: 'custom-cls'});\n  $('#ac3').on($.extend(getListeners('ac3', 'value3'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true\n  });\n\n  $('#ac3Btn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.setReadonly(!ac3.isReadonly());\n  });\n  $('#ac3AddBtn').click(function () {\n    var ac3 = $('#ac3').data('bsAutoComplete');\n    ac3.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac3'));\n  });\n\n  // ac7\n  var longValue = '';\n  for (var i = 0; i < 40; i++) longValue += 'asdf';\n  $('#ac7').on($.extend(getListeners('ac7', 'value7'), {})).bsAutoComplete({\n    minChar: 0, data: data2, filtSame: true, value: [longValue, longValue + '2']\n  });\n\n  $('#ac7Btn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.setReadonly(!ac7.isReadonly());\n  });\n  $('#ac7AddBtn').click(function () {\n    var ac7 = $('#ac7').data('bsAutoComplete');\n    ac7.addValue([{c: 'code-12', n: '项目-12'}], onSetFinish('addValue', 'ac7'));\n  });\n\n  // ac4\n  $('#ac4').on($.extend(getListeners('ac4', 'value4'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false\n  });\n  $('#ac4Btn').click(function () {\n    var ac4 = $('#ac4').data('bsAutoComplete');\n    ac4.setReadonly(!ac4.isReadonly());\n  });\n\n  // ac8\n  $('#ac8').on($.extend(getListeners('ac8', 'value8'), {})).bsAutoComplete({\n    minChar: 0, data: data, multiple: false, value: [longValue]\n  });\n  $('#ac8Btn').click(function () {\n    var ac8 = $('#ac8').data('bsAutoComplete');\n    ac8.setReadonly(!ac8.isReadonly());\n  });\n\n  // ac5\n  $('#ac5').on($.extend(getListeners('ac5', 'value5'), {})).bsAutoComplete({\n    data   : data.concat([{c: 'add value', n: '添加的项目'}, {c: 'set value', n: '设置的项目'}, 'hello world']),\n    minChar: 0, multiple: false, forceSelect: true, showAllWhenSingleForceSelectFocus: true, filtSame: true\n  });\n\n  $('#ac5AddBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.addValue([{c: 'add value', n: '添加的项目'}], onSetFinish('addValue', 'ac5'));\n  });\n  $('#ac5SetBtn').click(function () {\n    var ac5 = $('#ac5').data('bsAutoComplete');\n    ac5.setValue([{c: 'set value', n: '设置的项目'}], onSetFinish('setValue', 'ac5'));\n  });\n\n  // ac6\n  var itemTpl = '<div>\\\n          <div><span class=\"badge\">{name}</span>:<span class=\"label label-success\">{key}</span></div>\\\n          <div><span class=\"alert alert-info\">{desc}</span></div>\\\n      </div>';\n  var ac6MetaData = [\n    {c: 'id1', od: {name: '设置的项目1', arr: [1, 2], jso: {key: '子项1'}}},\n    {c: 'id2', od: {name: '设置的项目2', arr: [1, 2], jso: {key: '子项2'}}}\n  ], ac6data = [];\n  $.each(ac6MetaData, function (i, n) {\n    var name = itemTpl.format({name: n.od.name, key: n.od.jso.key, desc: JSON.stringify(n.od)});\n    ac6data.push($.extend({n: n.od.name, hn: name}, n));\n  });\n  $('#ac6').on(getListeners('ac6', 'value6')).bsAutoComplete({\n    data: ac6data,\n    cls : 'custom-item-html', minChar: 0, multiple: false, value: 'id2', forceSelect: true, itemUseHtml: true\n  });\n\n  $('#ac6SetBtn').click(function () {\n    var ac5 = $('#ac6').data('bsAutoComplete');\n    ac5.setValue([ac6data[1]], onSetFinish('setValue', 'ac6'));\n  });\n\n});\n"]}